/* ================= SciHarmony sStyles (Deluxeee) ================= */
:root{
  --green:#1C7C54;
  --green2:#69C39B;
  --ink:#0f172a;
  --muted:#475569;
}

/* Page entrance fade (paired with body.loaded in JS) */
html,body{margin:0}
body{
  font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
  color:var(--ink);
  background:#fff;
  line-height:1.6;
  opacity:1;                    /* will fade to 1 when .loaded is added */
  transition:opacity .6s ease;
}
body.fade-in{ opacity:0; }

*{box-sizing:border-box}
img{max-width:100%;height:auto;display:block}
a{color:var(--green);text-decoration:none}
a:hover{text-decoration:underline}

/* Subtle dotted grid backdrop for a lab/tech vibe */
body::after{
  content:"";
  position:fixed; inset:0; z-index:-1;
  background-image: radial-gradient(rgba(28,124,84,.06) 1px, transparent 1px);
  background-size:22px 22px;
  pointer-events:none;
}

/* Focus styles (accessibility) */
:focus-visible{outline:3px solid #69C39B; outline-offset:2px; border-radius:8px}

/* ================= Header / Nav ================= */
.site-header{
  position:sticky; top:0; z-index:50;
  background:#ffffffcc; backdrop-filter:blur(6px);
  border-bottom:1px solid #e5e7eb;
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:24px;
  padding:12px 16px;
}
.brand{display:flex; align-items:center; gap:10px; font-weight:800; color:#0e0e0e}
.brand img{width:56px; height:56px; border-radius:12px}
.brand .brand-text{font-family:'Manrope', sans-serif; font-size:22px; color:#0e0e0e}

/* Centered nav like your example */
.main-nav{grid-column:2; justify-self:center}
.main-nav .menu{display:flex; justify-content:center; gap:28px; list-style:none; margin:0; padding:0}

/* Tabs (uppercase, black, no underline) */
.main-nav .menu > li > a,
.main-nav .menu > li > a:visited{
  text-transform:uppercase; letter-spacing:.06em; font-weight:800; font-family:'Manrope', sans-serif;
  color:#0e0e0e; padding:10px 10px; border-radius:10px; text-decoration:none;
}
.main-nav .menu > li > a:hover{background:#f1f5f9; color:#0e0e0e; text-decoration:none}

/* Dropdowns */
.has-dropdown{position:relative}
.dropdown{
  position:absolute; top:100%; left:0; min-width:260px;
  background:#fff; border:1px solid #e5e7eb; border-radius:12px;
  box-shadow:0 18px 36px rgba(2,8,23,.12), 0 6px 16px rgba(2,8,23,.08);
  padding:8px; display:grid; gap:4px;
  opacity:0; transform:translateY(8px) scale(.98); pointer-events:none; transition:.16s ease;
  z-index:70; color:#0e0e0e;
}
.has-dropdown:hover > .dropdown,
.has-dropdown:focus-within > .dropdown{opacity:1; transform:translateY(0) scale(1); pointer-events:auto}
.site-header .dropdown a{
  display:block; color:#0e0e0e !important; font-weight:600; font-size:15px;
  padding:10px 12px; border-radius:10px; text-decoration:none !important;
}
.site-header .dropdown a:hover{background:#f8fafc; color:var(--green) !important}

/* Buttons */
.btn{
  padding:10px 16px; border-radius:12px; border:1px solid #e5e7eb; background:#fff;
  transition:transform .12s ease, box-shadow .12s ease;
}
.btn.primary,.btn.donate{
  background:var(--green); border-color:var(--green); color:#fff !important; text-transform:uppercase; letter-spacing:.03em
}
.btn:hover{transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.08)}

/* Deluxe: glowier primary hover */
.btn.primary:hover{
  box-shadow:0 0 0 3px rgba(105,195,155,.25), 0 10px 22px rgba(28,124,84,.25);
  transform:translateY(-2px);
}

.skip-link{position:absolute; left:-9999px}
.skip-link:focus{left:12px; top:12px; background:#000; color:#fff; padding:8px 10px; z-index:999; border-radius:8px}

/* ================= Hero (layered + micro-anim) ================= */
.hero{
  min-height:62vh; display:grid; place-items:center; text-align:center;
  color:#fff; position:relative; overflow:hidden;
  background:
    url('../images/hero-fg.svg') center / cover no-repeat,
    url('../images/hero-icons-tile.svg') center / 420px 420px repeat,
    url('../images/hero-bg.svg') center / cover no-repeat;
  background-attachment: scroll, fixed, fixed;
}

/* Faint rotating icon behind everything for subtle motion */
.hero::before{
  content:""; position:absolute; inset:0; z-index:0;
  background:url('../images/hero-dental.svg') center/60% no-repeat;
  opacity:.06; animation:spin 60s linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg); } }

.hero::after{
  content:""; position:absolute; inset:0; z-index:1;
  background:linear-gradient(to bottom, rgba(0,0,0,.24), rgba(0,0,0,.62));
  pointer-events:none;
}
.hero-inner{position:relative; padding:88px 16px; max-width:980px; z-index:2}
.hero h1{
  font-size:clamp(42px,6.4vw,76px); font-weight:800; font-family:'Manrope', sans-serif;
  letter-spacing:.01em; margin:.1em auto .25em; max-width:18ch;
}
.hero p.sub{font-size:clamp(18px,2.2vw,24px); opacity:.95; margin:0 auto 22px; max-width:48ch}
.cta-row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
.animate-fadeUp{animation:fadeUp 1s ease forwards}
@keyframes fadeUp{ from{opacity:0; transform:translateY(40px)} to{opacity:1; transform:translateY(0)} }

/* Mission strip */
.mission{
  background:linear-gradient(90deg, var(--green), var(--green2));
  color:#fff; text-align:center; padding:16px 10px; font-weight:600; letter-spacing:.03em;
}

/* ================= Sections / Cards ================= */
.section{padding:64px 16px}
.section.alt{
  background:#f8fbf9;
  /* Deluxe: soft rounded seam into this section */
  border-radius:60px 60px 0 0;
  margin-top:-40px;
  padding-top:80px;
}
.container{max-width:1100px; margin:0 auto; padding:0 16px}

.cards{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px; margin-top:12px}
.card{
  background:#fff; border:1px solid #e5e7eb; border-radius:18px; padding:20px;
  box-shadow:0 6px 18px rgba(0,0,0,.04); transition:transform .16s ease, box-shadow .16s ease;
}
.card h3{margin:.2em 0 .2em; font-size:22px; font-family:'Manrope', sans-serif}
.card p{color:var(--muted); margin:.35em 0 0}
.lift:hover{transform:translateY(-4px); box-shadow:0 16px 30px rgba(0,0,0,.08)}

/* KPIs */
.kpis{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:14px; margin-top:14px}
.kpi{background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:16px; text-align:center}
.kpi .num{font-size:30px; font-weight:800; font-family:'Manrope', sans-serif}
.kpi .lbl{font-size:14px; color:var(--muted)}

/* Reveal on scroll */
.reveal{opacity:0; transform:translateY(26px); transition:opacity .4s ease, transform .4s ease}
/* Deluxe: nicer float-in for items that also have .lift */
.revealed{opacity:1; transform:translateY(0)}
.revealed.lift{ animation: floatIn .6s cubic-bezier(0.22, 1, 0.36, 1) both; }
@keyframes floatIn{
  0%{ opacity:0; transform:translateY(40px) scale(.98); }
  100%{ opacity:1; transform:translateY(0) scale(1); }
}

/* ================= Gradient Footer (shimmer) ================= */
.site-footer{
  --grad1:#1C7C54; --grad2:#69C39B;
  background: linear-gradient(135deg, var(--grad1), var(--grad2));
  color:#fff; text-align:center; padding:70px 20px; border-top:none;
  position:relative; overflow:hidden;
  font-family:'Inter', system-ui, sans-serif;
}
.site-footer::before{
  content:""; position:absolute; inset:-40% -20%;
  background: radial-gradient(60% 60% at 30% 40%, rgba(255,255,255,.16), transparent 60%),
              radial-gradient(40% 40% at 80% 20%, rgba(255,255,255,.10), transparent 60%);
  animation: shimmer 16s linear infinite;
}
@keyframes shimmer{ from{transform:translateX(-6%)} to{transform:translateX(6%)} }

.footer-main{ position:relative; display:flex; flex-direction:column; align-items:center; gap:18px; max-width:860px; margin:0 auto }
.footer-title{font-size:36px; font-weight:800; letter-spacing:.05em; text-transform:uppercase; margin:0; font-family:'Manrope', sans-serif}
.footer-tagline{font-size:18px; opacity:.92; margin:0}
.footer-socials{display:flex; gap:26px; justify-content:center; margin-top:16px}
/* Deluxe: perkier icon hover */
.footer-socials a:hover svg{transform:translateY(-4px) scale(1.1); opacity:.9}
.social-icon svg{transition:transform .2s ease, opacity .2s ease}
.footer-copy{margin-top:30px; font-size:14px; opacity:.85}

/* Utilities */
.small{font-size:13px; color:var(--muted)}
.visually-hidden{position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap}

/* ================= Overrides to murder ghost-white text ================= */
.site-header .dropdown{ background:#fff; color:#0e0e0e; z-index:70 }
.site-header .dropdown a{ color:#0e0e0e !important; text-decoration:none !important; }
.site-header .dropdown a:hover{ color:var(--green) !important; text-decoration:none !important; }

/* ================= Responsive ================= */
@media (max-width:900px){
  .main-nav .menu{gap:18px}
  .brand img{width:48px; height:48px}
  .brand .brand-text{font-size:20px}
}
@media (max-width:640px){
  .main-nav .menu{gap:12px}
  .brand img{width:40px; height:40px}
  .brand .brand-text{font-size:18px}
  .footer-title{font-size:28px}
  .footer-tagline{font-size:16px}
  .social-icon svg{width:24px; height:24px}
}
/* ================= EXPENSIVE-LOOKING POLISH PACK ================= */

/* 1) Glassy navbar */
.site-header{
  background: rgba(255,255,255,0.7);
  backdrop-filter: blur(14px) saturate(180%);
  -webkit-backdrop-filter: blur(14px) saturate(180%);
  box-shadow: 0 4px 18px rgba(0,0,0,0.06);
}

/* 2) Scroll reveal: soft & floaty (works with existing .reveal/.revealed) */
.reveal{
  opacity:0;
  transform:translateY(30px);
  transition:opacity .8s cubic-bezier(0.22, 1, 0.36, 1),
             transform .8s cubic-bezier(0.22, 1, 0.36, 1);
}
.revealed{
  opacity:1;
  transform:translateY(0);
}
/* if the element also has .lift, give it a gentle spring */
.revealed.lift{
  animation:floatIn .6s cubic-bezier(0.22, 1, 0.36, 1) both;
}
@keyframes floatIn{
  0%{opacity:0; transform:translateY(40px) scale(.98)}
  100%{opacity:1; transform:translateY(0) scale(1)}
}

/* 3) Hero: animated gradient overlay + background drift slot */
.hero{
  /* allow JS to nudge tiled icons slightly on scroll */
  --bg-drift: 0px;
  background-position:
     center 0,                         /* fg */
     center calc(50% + var(--bg-drift)), /* tiled dental icons */
     center 0;                         /* deep bg */
}
/* replace static overlay with a slow-moving gradient shimmer */
.hero::after{
  background:
    linear-gradient(120deg, rgba(0,0,0,.40), rgba(0,0,0,.70)),
    linear-gradient(270deg, rgba(28,124,84,.40), rgba(105,195,155,.40));
  background-size: 200% 200%;
  animation: heroGradientMove 20s ease infinite;
}
@keyframes heroGradientMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* 4) Button focus glow (keyboard users deserve nice things) */
.btn:focus-visible{
  outline: 3px solid var(--green2);
  outline-offset: 4px;
  box-shadow: 0 0 0 6px rgba(105,195,155,0.25);
}

/* 5) Footer: barely-there breathing effect */
@keyframes footerPulse{
  0%,100%{ filter:brightness(1) }
  50%{ filter:brightness(1.08) }
}
.site-footer{ animation: footerPulse 12s ease-in-out infinite }

/* 6) Optional: gradient headline. Add class="fancy-title" to <h1> to enable. */
.fancy-title{
  background: linear-gradient(90deg, var(--green2), #bfffe5);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip:text;
  color:transparent;
}
/* ==================== SCIHARMONY AESTHETIC UPGRADE PACK ==================== */

/* 5) Card light sweep (subtle hover shine) */
.card {
  position: relative;
  overflow: hidden;
  transition: transform 0.25s ease;
}
.card:hover {
  transform: translateY(-2px);
}
.card::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    120deg,
    transparent 40%,
    rgba(255, 255, 255, 0.12) 50%,
    transparent 60%
  );
  transform: translateX(-60%) rotate(15deg);
  transition: transform 0.6s ease;
  pointer-events: none;
}
.card:hover::after {
  transform: translateX(20%) rotate(15deg);
}

/* 8) Hero headline depth (clean text shadow) */
.hero h1 {
  text-shadow: 0 2px 14px rgba(0, 0, 0, 0.28);
}

/* 9) Smooth scrolling for anchors */
html {
  scroll-behavior: smooth;
}

/* 11) CTA gradient underline */
.cta-row {
  position: relative;
  padding-bottom: 14px;
}
.cta-row::after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  width: min(520px, 90vw);
  height: 2px;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--green), var(--green2));
  opacity: 0.35;
}

/* 12) Optional favicon hue animation (when supported in-page preview) */
@keyframes faviconPulse {
  0%, 100% { filter: hue-rotate(0deg); }
  50% { filter: hue-rotate(25deg); }
}
link[rel="icon"] {
  animation: faviconPulse 5s linear infinite;
}
/* ============ Aesthetic Bundle: particles, headings, hero intro, footer bar ============ */

/* 2) Section headings: soft brand underline */
.section h1, .section h2{
  position:relative;
  display:inline-block;
}
.section h1::after, .section h2::after{
  content:"";
  position:absolute; left:0; bottom:-6px;
  width:100%; height:3px; border-radius:2px;
  background:linear-gradient(90deg,var(--green),var(--green2));
  opacity:.35;
}

/* 5) Hero intro micro-motion (pairs with JS page load) */
.hero-inner{
  opacity:0; transform:translateY(20px);
  animation:heroIntro .8s cubic-bezier(0.22,1,0.36,1) .25s forwards;
}
@keyframes heroIntro{ to{ opacity:1; transform:none; } }

/* 1) Hero particles canvas layer (JS injects the canvas) */
#heroParticles{
  position:absolute; inset:0;
  z-index:0;              /* behind overlay and text */
  pointer-events:none;
}

/* 6) Footer progress bar */
#footer-progress{
  position:fixed; bottom:0; left:0; height:3px; width:0;
  background:linear-gradient(90deg,var(--green2),var(--green));
  box-shadow:0 0 8px rgba(0,0,0,.15);
  z-index:9999;
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.001s !important; animation-iteration-count:1 !important; transition:none !important }
}
/* ===== Mobile Drawer Nav (glassy) ===== */
.nav-toggle{
  display:none; position:relative; z-index:1000; margin-left:auto;
  width:42px; height:42px; border-radius:10px; border:1px solid #e5e7eb;
  background:rgba(255,255,255,.7); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
  cursor:pointer;
}
.nav-toggle span, .nav-toggle::before, .nav-toggle::after{
  content:""; display:block; width:22px; height:2px; background:#0e0e0e; margin:0 auto; border-radius:2px;
  position:relative; top:0; transition:.2s ease;
}
.nav-toggle span{ margin-top:20px }
.nav-toggle::before{ transform:translateY(-6px) }
.nav-toggle::after{ transform:translateY(4px) }
.nav-toggle.active span{ opacity:0 }
.nav-toggle.active::before{ transform:translateY(0) rotate(45deg) }
.nav-toggle.active::after{ transform:translateY(-2px) rotate(-45deg) }

.drawer{
  position:fixed; inset:0 0 0 auto; width:min(86vw,360px);
  background:rgba(255,255,255,.85); backdrop-filter:blur(16px) saturate(160%);
  -webkit-backdrop-filter:blur(16px) saturate(160%);
  box-shadow:-10px 0 30px rgba(2,8,23,.2);
  transform:translateX(100%); transition:transform .24s ease; z-index:999;
  padding:16px;
}
.drawer.open{ transform:translateX(0) }
.drawer a{
  display:block; padding:12px 10px; border-radius:10px; color:#0e0e0e; font-weight:700; text-decoration:none;
}
.drawer a:hover{ background:#f1f5f9 }
.drawer .group{ margin:8px 0 14px; font-size:13px; color:#475569; text-transform:uppercase; letter-spacing:.08em }

@media (max-width:860px){
  .main-nav{ display:none }
  .nav-toggle{ display:block }
}
/* ===== Dark Mode (system + toggle) ===== */
:root[data-theme="dark"]{
  --ink:#e6edf3;
  --muted:#9aa9b6;
  --green:#20a075;
  --green2:#5fd3aa;
  background:#0b1220;
  color:var(--ink);
}
:root[data-theme="dark"] body{ background:#0b1220; }
:root[data-theme="dark"] .site-header{ background:rgba(13,18,31,.7); border-color:#1c2538; }
:root[data-theme="dark"] .dropdown{ background:#101827; border-color:#1c2538; }
:root[data-theme="dark"] .dropdown a{ color:#e6edf3 !important; }
:root[data-theme="dark"] .card{ background:#0f172a; border-color:#1c2538; }
:root[data-theme="dark"] .kpi{ background:#0f172a; border-color:#1c2538; }
:root[data-theme="dark"] .btn{ background:#0f172a; border-color:#1c2538; color:#e6edf3; }
:root[data-theme="dark"] .btn.primary{ color:#fff !important; }
:root[data-theme="dark"] .section.alt{ background:#0d1626; }
:root[data-theme="dark"] .footer-tagline, 
:root[data-theme="dark"] .small { color:#9aa9b6; }

/* Toggle chip */
.theme-toggle{
  margin-left:8px; border:1px solid #e5e7eb; border-radius:999px; padding:8px 10px; cursor:pointer;
  background:rgba(255,255,255,.7); backdrop-filter:blur(10px);
}
:root[data-theme="dark"] .theme-toggle{ border-color:#1c2538; background:rgba(16,24,39,.7) }
/* ===== 3D tilt on hover (cards & kpis) ===== */
.tiltable{
  transform-style:preserve-3d;
  transition: transform .15s ease, box-shadow .15s ease;
  will-change: transform;
}
.tiltable:hover{
  box-shadow:0 16px 36px rgba(0,0,0,.12);
}
/* ================= Enhancements Pack ================ */

/* — Fix: dark mode nav/link colors — */
:root[data-theme="dark"] .main-nav .menu > li > a { color:#fff; }
:root[data-theme="dark"] .site-header .dropdown { background:#0f172a; border-color:#1c2538; }
:root[data-theme="dark"] .site-header .dropdown a { color:#e6edf3 !important; }
:root[data-theme="dark"] .site-header .dropdown a:hover { background:#0b1220; color:#5fd3aa !important; }

/* — Testimonial carousel — */
.testimonials{position:relative; overflow:hidden; padding:56px 16px}
.testimonial-track{display:flex; gap:16px; transition:transform .6s cubic-bezier(.22,1,.36,1)}
.testimonial{min-width:320px; max-width:360px; background:rgba(255,255,255,.7); backdrop-filter:blur(10px);
  border:1px solid #e5e7eb; border-radius:16px; padding:18px; box-shadow:0 6px 18px rgba(0,0,0,.06)}
.testimonial .who{margin-top:10px; font-weight:700; color:#0f172a}
.testimonial .role{font-size:13px; color:#475569}
.testi-nav{display:flex; justify-content:center; gap:10px; margin-top:14px}
.testi-dot{width:8px;height:8px;border-radius:999px;background:#cbd5e1;cursor:pointer;transition:.2s}
.testi-dot.active{background:var(--green)}

/* Dark mode cards in carousel */
:root[data-theme="dark"] .testimonial{background:rgba(16,24,39,.6); border-color:#1c2538}
:root[data-theme="dark"] .testimonial .who{color:#e6edf3}
:root[data-theme="dark"] .testimonial .role{color:#9aa9b6}

/* — Footer “Made by students” badge — */
.footer-badge{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
  background:rgba(255,255,255,.22); color:#fff; border:1px solid rgba(255,255,255,.35); font-weight:700}
.footer-badge svg{opacity:.9}

/* — Hero spotlight that follows the cursor — */
.hero{position:relative}
.hero::after{ /* you already have a gradient here; keep it. Spotlight sits under overlay via extra layer below */
  pointer-events:none;
}
.hero::before{
  content:""; position:absolute; inset:-10%; z-index:1; pointer-events:none;
  background:
    radial-gradient(190px 190px at var(--mx,50%) var(--my,40%), rgba(255,255,255,.10), transparent 60%);
}

/* — Impact mini chart — */
#impact-mini{max-width:520px;margin:12px auto 0;background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:12px}
#impact-mini canvas{width:100%; height:200px; display:block}
:root[data-theme="dark"] #impact-mini{background:#0f172a;border-color:#1c2538}

/* — Accessibility panel — */
#a11y-btn{
  position:fixed; right:16px; bottom:76px; z-index:1000;
  width:44px; height:44px; border-radius:999px; border:1px solid #e5e7eb;
  background:rgba(255,255,255,.8); backdrop-filter:blur(10px); cursor:pointer; color:#0e0e0e;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
}
#a11y-panel{
  position:fixed; right:16px; bottom:126px; z-index:1000; width:280px; padding:12px;
  background:rgba(255,255,255,.92); border:1px solid #e5e7eb; border-radius:14px; backdrop-filter:blur(10px);
  display:none; box-shadow:0 18px 36px rgba(2,8,23,.18), 0 6px 16px rgba(2,8,23,.12);
}
#a11y-panel.open{display:block}
#a11y-panel h3{margin:4px 0 8px; font-size:14px; color:#475569; text-transform:uppercase; letter-spacing:.08em}
#a11y-panel .row{display:flex; gap:8px; flex-wrap:wrap}
#a11y-panel .chip{padding:8px 10px; border-radius:10px; border:1px solid #e5e7eb; cursor:pointer; background:#fff}
#a11y-panel .chip.active{border-color:var(--green); box-shadow:0 0 0 3px rgba(105,195,155,.25)}
:root[data-theme="dark"] #a11y-btn{border-color:#1c2538; background:rgba(16,24,39,.8); color:#e6edf3}
:root[data-theme="dark"] #a11y-panel{background:rgba(16,24,39,.92); border-color:#1c2538}
:root[data-theme="dark"] #a11y-panel .chip{background:#0f172a; border-color:#1c2538; color:#e6edf3}

/* — Accessibility modes — */
:root[data-contrast="high"]{
  --ink:#0a0a0a; --muted:#1f2937; --green:#137554; --green2:#48b78f;
  filter:contrast(1.05) saturate(1.05);
}
:root[data-textzoom="lg"]{ font-size:112% }
:root[data-textzoom="xl"]{ font-size:122% }
:root[data-motion="reduce"] *{
  animation-duration:.001s !important; animation-iteration-count:1 !important; transition:none !important;
}
/* ========= Final Polish Pack (no audio) ========= */

/* Dark mode: brand text white */
:root[data-theme="dark"] .brand .brand-text { color:#fff; }

/* 1) Hero headline word-by-word entrance */
.hero h1.split { line-height:1.08; }
.hero h1.split .word {
  display:inline-block;
  opacity:0;
  transform:translateY(16px);
  animation: hword .7s cubic-bezier(.22,1,.36,1) forwards;
}
@keyframes hword { to { opacity:1; transform:none; } }

/* 2) Page transitions (soft fade between pages) */
body.page-fade { opacity:1; transition:opacity .25s ease; }
body.page-fade.out { opacity:0; }

/* 3) Custom cursor ring */
.cursor-ring{
  position:fixed; left:0; top:0; width:28px; height:28px;
  border:2px solid rgba(28,124,84,.85);
  border-radius:999px; pointer-events:none; z-index:99999;
  transform:translate(-50%,-50%) scale(1);
  transition: transform .12s ease, opacity .2s ease, border-color .2s ease;
  mix-blend-mode: multiply;
  backdrop-filter: blur(2px);
}
.cursor-ring.hide{ opacity:0; }
.cursor-ring.grow{ transform:translate(-50%,-50%) scale(1.35); }
:root[data-theme="dark"] .cursor-ring{ border-color:rgba(95,211,170,.9); }

/* 4) Section glow border when revealed */
.section { position:relative; }
.section.glow-on::before{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  top:-10px; width:min(960px,90%); height:4px; border-radius:4px;
  background:linear-gradient(90deg,var(--green),var(--green2));
  filter: blur(6px); opacity:.35;
}

/* Safety: hide custom cursor on touch devices / users pref */
@media (hover:none), (pointer:coarse){
  body { cursor:auto; }
  .cursor-ring { display:none; }
}

/* Reduced motion: disable big motions */
@media (prefers-reduced-motion: reduce){
  .hero h1.split .word{ animation:none; opacity:1; transform:none; }
  body.page-fade { transition:none; }
}
/* Fix hero word spacing */
.hero h1.split{ white-space: normal; }
.hero h1.split .word{
  display:inline-block;
  margin-right:.25em;          /* visual space between words */
  opacity:0;
  transform:translateY(16px);
  animation: hword .7s cubic-bezier(.22,1,.36,1) forwards;
}
.hero h1.split .word:last-child{ margin-right:0; }

@keyframes hword { to { opacity:1; transform:none; } }
/* Button ripple */
.btn{ position:relative; overflow:hidden; }
.btn::after{
  content:""; position:absolute; inset:auto; left:50%; top:50%;
  width:0; height:0; border-radius:50%;
  background:rgba(255,255,255,.35); transform:translate(-50%,-50%);
  transition: width .35s ease, height .35s ease, opacity .45s ease;
  pointer-events:none; opacity:0;
}
.btn:active::after{ width:260px; height:260px; opacity:.55; }
/* Restore native cursor and keep the ring overlay */
body { cursor: auto !important; }

/* keep the ring functional */
.cursor-ring{
  position:fixed; left:0; top:0; width:28px; height:28px;
  border:2px solid rgba(28,124,84,.85);
  border-radius:999px; pointer-events:none; z-index:99999;
  transform:translate(-50%,-50%) scale(1);
  transition: transform .12s ease, opacity .2s ease, border-color .2s ease;
  mix-blend-mode:multiply; backdrop-filter:blur(2px);
}
.cursor-ring.hide{ opacity:0; }
.cursor-ring.grow{ transform:translate(-50%,-50%) scale(1.35); }
:root[data-theme="dark"] .cursor-ring{ border-color:rgba(95,211,170,.9); }

/* still hide the ring on touch devices */
@media (hover:none), (pointer:coarse){
  .cursor-ring{ display:none; }
}
/* ===== NAV LAYOUT: fix donate pill position on all pages ===== */
.site-header{
  display:flex;
  align-items:center;
  gap:16px;
}

.brand{ flex:0 0 auto; }

.main-nav{
  /* override any old .nav margins from earlier builds */
  margin-left:0 !important;
  display:flex;
  align-items:center;
  gap:16px;
  flex:1 1 auto;
  flex-wrap:nowrap;                 /* <- do not wrap */
}

/* Center the menu block; keep it from hogging 100% width */
.main-nav .menu{
  display:flex;
  align-items:center;
  gap:22px;
  list-style:none;
  padding:0;
  margin:0 auto;                    /* <- centers menu */
  flex:0 1 auto;
}

/* Uppercase, bold, no underline-on-hover */
.main-nav .menu > li > a{
  text-transform:uppercase;
  letter-spacing:.04em;
  font-weight:700;
  color:var(--ink);
  text-decoration:none;
}
.main-nav .menu > li > a:hover{ text-decoration:none; }

/* Donate pill pinned to the far right, never wraps */
.main-nav .btn.donate{
  margin-left:auto;                 /* <- pushes to right edge */
  flex:0 0 auto;
  white-space:nowrap;
}

/* Dropdown stays positioned with its parent, not affecting flow */
.main-nav .has-dropdown{ position:relative; }
.main-nav .has-dropdown .dropdown{
  position:absolute;
  top:100%;
  left:0;
}

/* Tighten spacing at mid widths so it still fits on one line */
@media (max-width:1100px){
  .main-nav .menu{ gap:16px; }
}

/* Hide desktop Donate when the mobile drawer is active */
@media (max-width:860px){
  .main-nav .btn.donate{ display:none; }
}
/* ===== Mobile header behavior: show drawer only, hide desktop menu ===== */

/* Drawer toggle button (JS injects .nav-toggle; keep it styled + visible on mobile) */
.nav-toggle{
  display:none;                 /* desktop default */
  align-items:center;
  justify-content:center;
  width:42px; height:42px;
  border-radius:12px;
  border:1px solid #e5e7eb;
  background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
  margin-left:auto;             /* push it to the right edge */
  z-index:60;
}
.nav-toggle span,
.nav-toggle span::before,
.nav-toggle span::after{
  content:"";
  display:block;
  width:18px; height:2px;
  background:var(--ink);
  border-radius:2px;
  position:relative;
}
.nav-toggle span::before{ top:-6px; position:absolute; }
.nav-toggle span::after{  top: 6px; position:absolute; }

/* Drawer panel (already injected by JS; styles here make it look good) */
.drawer{
  position:fixed;
  top:calc(env(safe-area-inset-top) + 56px);
  right:16px;
  width:88vw; max-width:360px;
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:16px;
  box-shadow:0 16px 40px rgba(0,0,0,.18);
  padding:14px 14px 10px;
  transform:translateY(-8px) scale(.98);
  opacity:0; pointer-events:none;
  transition:transform .18s ease, opacity .18s ease;
  z-index:70;
}
.drawer.open{ transform:none; opacity:1; pointer-events:auto; }
.drawer .group{
  font-weight:700; font-size:12px; letter-spacing:.08em;
  color:var(--muted); text-transform:uppercase;
  padding:8px 6px 6px;
}
.drawer a{
  display:block; padding:10px 8px; border-radius:10px;
  color:var(--ink); text-decoration:none;
}
.drawer a:hover{ background:#f5f7f9; }

/* Hide desktop nav links/donate on small screens; show toggle */
@media (max-width: 860px){
  .site-header{ gap:10px; }
  .main-nav .menu{ display:none !important; }
  .main-nav .btn.donate{ display:none !important; }
  .nav-toggle{ display:inline-flex; }
}

/* Also ensure the desktop layout never wraps on larger screens */
.main-nav{
  display:flex; align-items:center; gap:16px; flex:1 1 auto; flex-wrap:nowrap;
}
.main-nav .menu{ display:flex; gap:22px; margin:0 auto; padding:0; list-style:none; }
.main-nav .btn.donate{ margin-left:auto; flex:0 0 auto; white-space:nowrap; }

/* iOS safe-area padding so header content doesn’t hide under the notch */
@supports (padding: max(0px)){
  .site-header{ padding-left: max(16px, env(safe-area-inset-left)); padding-right:max(16px, env(safe-area-inset-right)); }
}
/* ===== MOBILE NAV FIX: show ONLY the drawer on phones ===== */
@media (max-width: 860px){

  /* Hide ALL inline/legacy menus inside the header */
  .site-header .main-nav .menu,
  .site-header .main-nav > a:not(.btn),  /* stray links that aren't the donate pill */
  .site-header .nav,                     /* legacy .nav container */
  .site-header nav.nav,
  .site-header nav.nav a {
    display: none !important;
  }

  /* Hide the desktop Donate pill on mobile (drawer has a donate link) */
  .site-header .main-nav .btn.donate {
    display: none !important;
  }

  /* Ensure the injected hamburger is visible and pushed to the right */
  .nav-toggle {
    display: inline-flex !important;
    margin-left: auto;
  }
}

/* Keep the drawer sitting below the sticky header on iOS */
.drawer{
  top: calc(env(safe-area-inset-top) + 56px);
}
/* ================= DARK MODE MOBILE READABILITY PATCH ================= */

/* Drawer panel: solid, high-contrast dark instead of foggy white */
:root[data-theme="dark"] .drawer{
  background: rgba(13,18,31,.94);
  border-color:#1c2538;
  color:#e6edf3;
  backdrop-filter: none;              /* avoid milky look */
  -webkit-backdrop-filter: none;
}

/* Drawer headings and links */
:root[data-theme="dark"] .drawer .group{
  color:#9aa9b6;                      /* section label */
}
:root[data-theme="dark"] .drawer a{
  color:#e6edf3 !important;           /* readable links */
  text-decoration:none;
}
:root[data-theme="dark"] .drawer a:hover{
  background:#0b1220;                 /* subtle hover */
  color:#5fd3aa !important;
}

/* Mobile toggle button also needs contrast in dark mode */
:root[data-theme="dark"] .nav-toggle{
  background:rgba(16,24,39,.92);
  border-color:#1c2538;
}
:root[data-theme="dark"] .nav-toggle span,
:root[data-theme="dark"] .nav-toggle span::before,
:root[data-theme="dark"] .nav-toggle span::after{
  background:#e6edf3;
}

/* Links inside drawer and elsewhere should use bright brand color in dark */
:root[data-theme="dark"] a { color:#5fd3aa; }

/* ================= FAQ / CARD READABILITY IN DARK ================= */

/* If your FAQ uses .card (or anything that looks like a card), give it contrast */
:root[data-theme="dark"] .card,
:root[data-theme="dark"] .tile,
:root[data-theme="dark"] .qa-card,
:root[data-theme="dark"] .faq-card{
  background:#0f172a;
  border-color:#1c2538;
  color:#e6edf3;
}

/* Paragraphs and small text inside those cards */
:root[data-theme="dark"] .card p,
:root[data-theme="dark"] .tile p,
:root[data-theme="dark"] .qa-card p,
:root[data-theme="dark"] .faq-card p,
:root[data-theme="dark"] .card li,
:root[data-theme="dark"] .qa-card li,
:root[data-theme="dark"] .faq-card li{
  color:#cbd5e1;
}

/* Headings keep a bit more punch */
:root[data-theme="dark"] .card h1,
:root[data-theme="dark"] .card h2,
:root[data-theme="dark"] .card h3,
:root[data-theme="dark"] .qa-card h3,
:root[data-theme="dark"] .faq-card h3{
  color:#ffffff;
}

/* Buttons inside drawer/cards should stay readable */
:root[data-theme="dark"] .btn{
  background:#0f172a;
  border-color:#1c2538;
  color:#e6edf3;
}
:root[data-theme="dark"] .btn.primary,
:root[data-theme="dark"] .btn.donate{
  background:#20a075;
  border-color:#20a075;
  color:#fff !important;
}